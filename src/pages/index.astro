---
import BaseHead from '../components/base-head.astro'
import Hero from '../sections/hero.astro'
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts'
import About from '../sections/about.astro'
import Experience from '../sections/experience.astro'
import Laterals from '../components/laterals.astro'
import Projects from '../sections/projects.astro'
import Header from '../components/header.astro'
import Contact from '../sections/contact.astro'
import Footer from '../components/footer.astro'
---

<!DOCTYPE html>
<html lang='en'>
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body class='bg-navyBlue'>
    <Header />
    <Hero />
    <About />
    <Experience />
    <Projects />
    <Contact />
    <Footer />

    <Laterals />

    <script>
      const callback = (entries: IntersectionObserverEntry[]) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate')
          }
        })
      }

      const options: IntersectionObserverInit = {
        threshold: 0.3
      }

      const observer = new IntersectionObserver(callback, options)

      const elementsToAnimate = document.querySelectorAll('.element-to-animate')

      elementsToAnimate.forEach((el) => observer.observe(el))
    </script>
  </body>
</html>
